{"version":3,"file":"codeGenerator.test.mjs","names":["initCodeGenerator","describe","log","jest","fn","random","beforeEach","mockReset","test","mockReturnValueOnce","codeGenerator","code","expect","logCalls","mock","calls","randomCalls","toMatchSnapshot"],"sources":["../src/codeGenerator.test.ts"],"sourcesContent":["import initCodeGenerator from './codeGenerator';\nimport type { RandomService } from './random';\n\ndescribe('codeGenerator', () => {\n  const log = jest.fn();\n  const random = jest.fn() as jest.Mock<number, RandomService[]>;\n\n  beforeEach(() => {\n    log.mockReset();\n    random.mockReset();\n  });\n\n  test('should work', async () => {\n    random.mockReturnValueOnce(0.5);\n    const codeGenerator = await initCodeGenerator({\n      random,\n      log,\n    });\n    const code = await codeGenerator();\n\n    expect({\n      code,\n      logCalls: log.mock.calls,\n      randomCalls: random.mock.calls,\n    }).toMatchSnapshot();\n  });\n});\n"],"mappings":"AAAA,OAAOA,iBAAP,MAA8B,iBAA9B;AAGAC,QAAQ,CAAC,eAAD,EAAkB,MAAM;EAC9B,MAAMC,GAAG,GAAGC,IAAI,CAACC,EAAL,EAAZ;EACA,MAAMC,MAAM,GAAGF,IAAI,CAACC,EAAL,EAAf;EAEAE,UAAU,CAAC,MAAM;IACfJ,GAAG,CAACK,SAAJ;IACAF,MAAM,CAACE,SAAP;EACD,CAHS,CAAV;EAKAC,IAAI,CAAC,aAAD,EAAgB,YAAY;IAC9BH,MAAM,CAACI,mBAAP,CAA2B,GAA3B;IACA,MAAMC,aAAa,GAAG,MAAMV,iBAAiB,CAAC;MAC5CK,MAD4C;MAE5CH;IAF4C,CAAD,CAA7C;IAIA,MAAMS,IAAI,GAAG,MAAMD,aAAa,EAAhC;IAEAE,MAAM,CAAC;MACLD,IADK;MAELE,QAAQ,EAAEX,GAAG,CAACY,IAAJ,CAASC,KAFd;MAGLC,WAAW,EAAEX,MAAM,CAACS,IAAP,CAAYC;IAHpB,CAAD,CAAN,CAIGE,eAJH;EAKD,CAbG,CAAJ;AAcD,CAvBO,CAAR"}