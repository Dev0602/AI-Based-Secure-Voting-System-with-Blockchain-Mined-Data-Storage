{"version":3,"file":"random.js","names":["noop","undefined","singleton","autoService","initRandom","log","random","num","Math"],"sources":["../src/random.ts"],"sourcesContent":["import { autoService, singleton } from 'knifecycle';\nimport type { LogService } from './log';\n\nfunction noop(): void {\n  return undefined;\n}\n\nexport interface RandomService {\n  (): number;\n}\n\n/* Architecture Note #1.3: Randomness\n\nThe random service is just proxying [`Math.random`\n](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Math/random)\n in a stubbable manner.\n*/\n\nexport default singleton(autoService(initRandom));\n\n/**\n * Instantiate the random service\n * @name initRandom\n * @function\n * @param  {Object}   services           The services to inject\n * @param  {Object}   [services.log = noop]     A logging function\n * @return {Promise<Function>}           A promise of the random function\n * @example\n * import initRandom from 'common-services/dist/random';\n *\n * const random = await initRandom({\n *   log: console.log.bind(console),\n * });\n */\nasync function initRandom({\n  log = noop,\n}: {\n  log?: LogService;\n}): Promise<RandomService> {\n  log('debug', 'ðŸŽ² - Random service initialized.');\n\n  return random;\n\n  /**\n   * Returns a new random number\n   * @return {number}   The random number\n   * @example\n   * random()\n   * // Prints: 0.3141592653589793\n   */\n  function random(): number {\n    const num = Math.random();\n\n    log('debug', 'ðŸŽ² - Created a random number:', num);\n\n    return num;\n  }\n}\n"],"mappings":";;;;;;;AAAA;;AAGA,SAASA,IAAT,GAAsB;EACpB,OAAOC,SAAP;AACD;;AAMD;AACA;AACA;AACA;AACA;AACA;eAEe,IAAAC,qBAAA,EAAU,IAAAC,mBAAA,EAAYC,UAAZ,qBAAV,C;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA,eAAeA,UAAf,CAA0B;EACxBC,GAAG,GAAGL;AADkB,CAA1B,EAI2B;EACzBK,GAAG,CAAC,OAAD,EAAU,kCAAV,CAAH;EAEA,OAAOC,MAAP;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;;EACE,SAASA,MAAT,GAA0B;IACxB,MAAMC,GAAG,GAAGC,IAAI,CAACF,MAAL,EAAZ;IAEAD,GAAG,CAAC,OAAD,EAAU,+BAAV,EAA2CE,GAA3C,CAAH;IAEA,OAAOA,GAAP;EACD;AACF"}