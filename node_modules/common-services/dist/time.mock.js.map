{"version":3,"file":"time.mock.js","names":["reuseSpecialProps","initTimeService","initTimeMock","sinon","stub"],"sources":["../src/time.mock.ts"],"sourcesContent":["import sinon from 'sinon';\nimport initTimeService from './time';\nimport { reuseSpecialProps } from 'knifecycle';\nimport type { TimeService } from './time';\n\n/* Architecture Note #1.2.1: Mocking time\n\nThe time mock uses the [`sinon`](https://github.com/sinonjs/sinon/)\n module under the hood like for the logging mock.\n*/\n\nexport default reuseSpecialProps(\n  initTimeService,\n  initTimeMock as typeof initTimeService,\n);\n\n/**\n * Instantiate the time service mock\n * @name initTimeMock\n * @function\n * @return {Promise<Function>}  A promise of the mocked\n *  time function\n * @example\n * import initTimeMock from 'common-services/dist/time.mock';\n * import assert from 'assert';\n *\n * const time = await initTimeMock();\n *\n * // Let's returns Thomas birth date (OMG ya father\n * // talking me about its childrens :D).\n * time.returns(new Date('2014-01-26T00:00:00.000Z'));\n *\n * assert.equal(time(), 1390694400000);\n * assert.deepEqual(time.args, [[]], 'Called once');\n *\n * time.reset();\n *\n * assert.deepEqual(time.args, []);\n */\nasync function initTimeMock(): Promise<TimeService> {\n  return sinon.stub();\n}\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAGA;AACA;AACA;AACA;AACA;eAEe,IAAAA,6BAAA,EACbC,aADa,EAEbC,YAFa,C;AAKf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA,eAAeA,YAAf,GAAoD;EAClD,OAAOC,cAAA,CAAMC,IAAN,EAAP;AACD"}