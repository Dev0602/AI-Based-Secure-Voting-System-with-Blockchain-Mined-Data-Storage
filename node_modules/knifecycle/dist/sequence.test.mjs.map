{"version":3,"file":"sequence.test.mjs","names":["assert","buildInitializationSequence","describe","it","tree","__name","deepEqual","__childNodes"],"sources":["../src/sequence.test.ts"],"sourcesContent":["import assert from 'assert';\nimport { buildInitializationSequence } from './sequence';\n\ndescribe('buildInitializationSequence()', () => {\n  it('should work with one level trees', () => {\n    const tree = {\n      __name: 'lol',\n    };\n\n    assert.deepEqual(buildInitializationSequence(tree), [['lol']]);\n  });\n\n  it('should work with multi-level trees', () => {\n    const tree = {\n      __name: 'lol',\n      __childNodes: [\n        {\n          __name: 'lol 1',\n          __childNodes: [\n            {\n              __name: 'lol 1.1',\n              __childNodes: [\n                {\n                  __name: 'lol 1.1.1',\n                  __childNodes: [],\n                },\n              ],\n            },\n            {\n              __name: 'lol 1.2',\n            },\n          ],\n        },\n        {\n          __name: 'lol 2',\n          __childNodes: [\n            {\n              __name: 'lol 2.1',\n              __childNodes: [],\n            },\n          ],\n        },\n        {\n          __name: 'lol 3',\n          __childNodes: [\n            {\n              __name: 'lol 3.1',\n              __childNodes: [\n                {\n                  __name: 'lol 3.1.1',\n                  __childNodes: [],\n                },\n              ],\n            },\n          ],\n        },\n      ],\n    };\n\n    assert.deepEqual(buildInitializationSequence(tree), [\n      ['lol 1.1.1', 'lol 1.2', 'lol 2.1', 'lol 3.1.1'],\n      ['lol 1.1', 'lol 2', 'lol 3.1'],\n      ['lol 1', 'lol 3'],\n      ['lol'],\n    ]);\n  });\n\n  it('should work with multi-level trees and cross dependencies', () => {\n    const tree = {\n      __name: 'lol',\n      __childNodes: [\n        {\n          __name: 'lol 1',\n          __childNodes: [\n            {\n              __name: 'lol 1.1',\n              __childNodes: [\n                {\n                  __name: 'lol 1.1.1',\n                  __childNodes: [],\n                },\n              ],\n            },\n            {\n              __name: 'lol 1.2',\n            },\n            {\n              __name: 'lol 1.3',\n              __childNodes: [\n                {\n                  __name: 'lol 3',\n                  __childNodes: [\n                    {\n                      __name: 'lol 3.1',\n                      __childNodes: [\n                        {\n                          __name: 'lol 2',\n                          __childNodes: [\n                            {\n                              __name: 'lol 2.1',\n                              __childNodes: [],\n                            },\n                          ],\n                        },\n                      ],\n                    },\n                  ],\n                },\n              ],\n            },\n          ],\n        },\n        {\n          __name: 'lol 2',\n          __childNodes: [\n            {\n              __name: 'lol 2.1',\n              __childNodes: [],\n            },\n          ],\n        },\n        {\n          __name: 'lol 3',\n          __childNodes: [\n            {\n              __name: 'lol 3.1',\n              __childNodes: [\n                {\n                  __name: 'lol 2',\n                  __childNodes: [\n                    {\n                      __name: 'lol 2.1',\n                      __childNodes: [],\n                    },\n                  ],\n                },\n              ],\n            },\n          ],\n        },\n      ],\n    };\n\n    assert.deepEqual(buildInitializationSequence(tree), [\n      ['lol 1.1.1', 'lol 1.2', 'lol 2.1'],\n      ['lol 1.1', 'lol 2'],\n      ['lol 3.1'],\n      ['lol 3'],\n      ['lol 1.3'],\n      ['lol 1'],\n      ['lol'],\n    ]);\n  });\n});\n"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,QAAnB;AACA,SAASC,2BAAT,QAA4C,YAA5C;AAEAC,QAAQ,CAAC,+BAAD,EAAkC,MAAM;EAC9CC,EAAE,CAAC,kCAAD,EAAqC,MAAM;IAC3C,MAAMC,IAAI,GAAG;MACXC,MAAM,EAAE;IADG,CAAb;IAIAL,MAAM,CAACM,SAAP,CAAiBL,2BAA2B,CAACG,IAAD,CAA5C,EAAoD,CAAC,CAAC,KAAD,CAAD,CAApD;EACD,CANC,CAAF;EAQAD,EAAE,CAAC,oCAAD,EAAuC,MAAM;IAC7C,MAAMC,IAAI,GAAG;MACXC,MAAM,EAAE,KADG;MAEXE,YAAY,EAAE,CACZ;QACEF,MAAM,EAAE,OADV;QAEEE,YAAY,EAAE,CACZ;UACEF,MAAM,EAAE,SADV;UAEEE,YAAY,EAAE,CACZ;YACEF,MAAM,EAAE,WADV;YAEEE,YAAY,EAAE;UAFhB,CADY;QAFhB,CADY,EAUZ;UACEF,MAAM,EAAE;QADV,CAVY;MAFhB,CADY,EAkBZ;QACEA,MAAM,EAAE,OADV;QAEEE,YAAY,EAAE,CACZ;UACEF,MAAM,EAAE,SADV;UAEEE,YAAY,EAAE;QAFhB,CADY;MAFhB,CAlBY,EA2BZ;QACEF,MAAM,EAAE,OADV;QAEEE,YAAY,EAAE,CACZ;UACEF,MAAM,EAAE,SADV;UAEEE,YAAY,EAAE,CACZ;YACEF,MAAM,EAAE,WADV;YAEEE,YAAY,EAAE;UAFhB,CADY;QAFhB,CADY;MAFhB,CA3BY;IAFH,CAAb;IA8CAP,MAAM,CAACM,SAAP,CAAiBL,2BAA2B,CAACG,IAAD,CAA5C,EAAoD,CAClD,CAAC,WAAD,EAAc,SAAd,EAAyB,SAAzB,EAAoC,WAApC,CADkD,EAElD,CAAC,SAAD,EAAY,OAAZ,EAAqB,SAArB,CAFkD,EAGlD,CAAC,OAAD,EAAU,OAAV,CAHkD,EAIlD,CAAC,KAAD,CAJkD,CAApD;EAMD,CArDC,CAAF;EAuDAD,EAAE,CAAC,2DAAD,EAA8D,MAAM;IACpE,MAAMC,IAAI,GAAG;MACXC,MAAM,EAAE,KADG;MAEXE,YAAY,EAAE,CACZ;QACEF,MAAM,EAAE,OADV;QAEEE,YAAY,EAAE,CACZ;UACEF,MAAM,EAAE,SADV;UAEEE,YAAY,EAAE,CACZ;YACEF,MAAM,EAAE,WADV;YAEEE,YAAY,EAAE;UAFhB,CADY;QAFhB,CADY,EAUZ;UACEF,MAAM,EAAE;QADV,CAVY,EAaZ;UACEA,MAAM,EAAE,SADV;UAEEE,YAAY,EAAE,CACZ;YACEF,MAAM,EAAE,OADV;YAEEE,YAAY,EAAE,CACZ;cACEF,MAAM,EAAE,SADV;cAEEE,YAAY,EAAE,CACZ;gBACEF,MAAM,EAAE,OADV;gBAEEE,YAAY,EAAE,CACZ;kBACEF,MAAM,EAAE,SADV;kBAEEE,YAAY,EAAE;gBAFhB,CADY;cAFhB,CADY;YAFhB,CADY;UAFhB,CADY;QAFhB,CAbY;MAFhB,CADY,EA0CZ;QACEF,MAAM,EAAE,OADV;QAEEE,YAAY,EAAE,CACZ;UACEF,MAAM,EAAE,SADV;UAEEE,YAAY,EAAE;QAFhB,CADY;MAFhB,CA1CY,EAmDZ;QACEF,MAAM,EAAE,OADV;QAEEE,YAAY,EAAE,CACZ;UACEF,MAAM,EAAE,SADV;UAEEE,YAAY,EAAE,CACZ;YACEF,MAAM,EAAE,OADV;YAEEE,YAAY,EAAE,CACZ;cACEF,MAAM,EAAE,SADV;cAEEE,YAAY,EAAE;YAFhB,CADY;UAFhB,CADY;QAFhB,CADY;MAFhB,CAnDY;IAFH,CAAb;IA2EAP,MAAM,CAACM,SAAP,CAAiBL,2BAA2B,CAACG,IAAD,CAA5C,EAAoD,CAClD,CAAC,WAAD,EAAc,SAAd,EAAyB,SAAzB,CADkD,EAElD,CAAC,SAAD,EAAY,OAAZ,CAFkD,EAGlD,CAAC,SAAD,CAHkD,EAIlD,CAAC,OAAD,CAJkD,EAKlD,CAAC,SAAD,CALkD,EAMlD,CAAC,OAAD,CANkD,EAOlD,CAAC,KAAD,CAPkD,CAApD;EASD,CArFC,CAAF;AAsFD,CAtJO,CAAR"}