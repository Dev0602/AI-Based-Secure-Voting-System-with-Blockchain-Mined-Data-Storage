{"version":3,"file":"sequence.test.js","names":["describe","it","tree","__name","assert","deepEqual","buildInitializationSequence","__childNodes"],"sources":["../src/sequence.test.ts"],"sourcesContent":["import assert from 'assert';\nimport { buildInitializationSequence } from './sequence';\n\ndescribe('buildInitializationSequence()', () => {\n  it('should work with one level trees', () => {\n    const tree = {\n      __name: 'lol',\n    };\n\n    assert.deepEqual(buildInitializationSequence(tree), [['lol']]);\n  });\n\n  it('should work with multi-level trees', () => {\n    const tree = {\n      __name: 'lol',\n      __childNodes: [\n        {\n          __name: 'lol 1',\n          __childNodes: [\n            {\n              __name: 'lol 1.1',\n              __childNodes: [\n                {\n                  __name: 'lol 1.1.1',\n                  __childNodes: [],\n                },\n              ],\n            },\n            {\n              __name: 'lol 1.2',\n            },\n          ],\n        },\n        {\n          __name: 'lol 2',\n          __childNodes: [\n            {\n              __name: 'lol 2.1',\n              __childNodes: [],\n            },\n          ],\n        },\n        {\n          __name: 'lol 3',\n          __childNodes: [\n            {\n              __name: 'lol 3.1',\n              __childNodes: [\n                {\n                  __name: 'lol 3.1.1',\n                  __childNodes: [],\n                },\n              ],\n            },\n          ],\n        },\n      ],\n    };\n\n    assert.deepEqual(buildInitializationSequence(tree), [\n      ['lol 1.1.1', 'lol 1.2', 'lol 2.1', 'lol 3.1.1'],\n      ['lol 1.1', 'lol 2', 'lol 3.1'],\n      ['lol 1', 'lol 3'],\n      ['lol'],\n    ]);\n  });\n\n  it('should work with multi-level trees and cross dependencies', () => {\n    const tree = {\n      __name: 'lol',\n      __childNodes: [\n        {\n          __name: 'lol 1',\n          __childNodes: [\n            {\n              __name: 'lol 1.1',\n              __childNodes: [\n                {\n                  __name: 'lol 1.1.1',\n                  __childNodes: [],\n                },\n              ],\n            },\n            {\n              __name: 'lol 1.2',\n            },\n            {\n              __name: 'lol 1.3',\n              __childNodes: [\n                {\n                  __name: 'lol 3',\n                  __childNodes: [\n                    {\n                      __name: 'lol 3.1',\n                      __childNodes: [\n                        {\n                          __name: 'lol 2',\n                          __childNodes: [\n                            {\n                              __name: 'lol 2.1',\n                              __childNodes: [],\n                            },\n                          ],\n                        },\n                      ],\n                    },\n                  ],\n                },\n              ],\n            },\n          ],\n        },\n        {\n          __name: 'lol 2',\n          __childNodes: [\n            {\n              __name: 'lol 2.1',\n              __childNodes: [],\n            },\n          ],\n        },\n        {\n          __name: 'lol 3',\n          __childNodes: [\n            {\n              __name: 'lol 3.1',\n              __childNodes: [\n                {\n                  __name: 'lol 2',\n                  __childNodes: [\n                    {\n                      __name: 'lol 2.1',\n                      __childNodes: [],\n                    },\n                  ],\n                },\n              ],\n            },\n          ],\n        },\n      ],\n    };\n\n    assert.deepEqual(buildInitializationSequence(tree), [\n      ['lol 1.1.1', 'lol 1.2', 'lol 2.1'],\n      ['lol 1.1', 'lol 2'],\n      ['lol 3.1'],\n      ['lol 3'],\n      ['lol 1.3'],\n      ['lol 1'],\n      ['lol'],\n    ]);\n  });\n});\n"],"mappings":"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"}